import React, { useState, useEffect } from 'react';
import Panel from '@vkontakte/vkui/dist/components/Panel/Panel';
import PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';
import Title from '@vkontakte/vkui/dist/components/Typography/Title/Title';
import './loading.css'
import { gsap } from "gsap";

function Ticket() {
    useEffect(() => {

        const animation = gsap.timeline();
        const animation2 = gsap.timeline();

        setTimeout(() => {
            animation.to("#top_ticket", {
                y: -12,
                x: 24,
                rotation: 30,
                duration: 0.7,
                yoyo: true
            });

            animation2.to("#bottom_ticket", {
                x: -16,
                y: 20,
                rotation: -20,
                duration: 0.7,
                yoyo: true
            });
        }, 700 )

        return () => {
            animation.kill();
            animation2.kill();
        };
    });

    return (
        <div className='TicketContainer'>
            <svg
                id="top_ticket"
                style={{ position: "absolute" }}
                width="112"
                height="112"
                viewBox="0 0 56 56"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M41.7555 6.8135C40.6155 5.6735 39.6715 4.7315 38.8395 4.0275C37.9875 3.3075 37.1255 2.7255 36.0995 2.3915C34.4928 1.8695 32.7621 1.8695 31.1555 2.3915C30.1195 2.7295 29.2495 3.3195 28.3895 4.0515C27.5615 4.7515 26.6215 5.6915 25.4835 6.8315L20.6575 11.6575L21 12L27 18L27.4185 18.4185C27.6042 18.2327 27.7514 18.0121 27.8519 17.7694C27.9523 17.5266 28.004 17.2665 28.0039 17.0038C28.0038 16.7411 27.9519 16.481 27.8513 16.2383C27.7507 15.9957 27.6033 15.7752 27.4175 15.5895L24.8995 13.0715L28.2535 9.7175C29.4655 8.5055 30.2895 7.6835 30.9795 7.0995C31.6495 6.5295 32.0595 6.3055 32.3915 6.1955C33.1948 5.9345 34.0601 5.9345 34.8635 6.1955C35.1935 6.3035 35.5975 6.5255 36.2575 7.0815C36.6935 7.4515 37.1875 7.9195 37.8035 8.5235C37.0831 10.0182 36.8453 11.6998 37.1229 13.3357C37.4006 14.9715 38.18 16.4805 39.3533 17.6537C40.5265 18.8269 42.0355 19.6064 43.6713 19.884C45.3071 20.1617 46.9888 19.9239 48.4835 19.2035C49.0875 19.8195 49.5555 20.3135 49.9235 20.7515C50.4835 21.4095 50.7035 21.8115 50.8115 22.1435C51.0725 22.9468 51.0725 23.8122 50.8115 24.6155C50.7015 24.9495 50.4775 25.3575 49.9075 26.0295C49.3235 26.7175 48.5015 27.5415 47.2875 28.7535L43.9355 32.1075L41.4175 29.5875C41.0422 29.2125 40.5333 29.0019 40.0028 29.0021C39.4722 29.0023 38.9635 29.2132 38.5885 29.5885L39 30L45.3495 36.3495L50.1755 31.5235C51.3155 30.3835 52.2555 29.4435 52.9555 28.6175C53.6875 27.7575 54.2775 26.8875 54.6155 25.8515C55.1375 24.2448 55.1375 22.5142 54.6155 20.9075C54.2815 19.8815 53.6995 19.0195 52.9795 18.1675C52.2845 17.3461 51.3575 16.4176 50.2371 15.2952L50.1935 15.2515C49.844 14.9023 49.3777 14.6947 48.8843 14.6689C48.391 14.643 47.9055 14.8007 47.5215 15.1115C46.753 15.7317 45.7824 16.0457 44.7963 15.9931C43.8102 15.9406 42.8785 15.5251 42.1803 14.8267C41.4822 14.1284 41.0671 13.1964 41.0149 12.2104C40.9626 11.2243 41.277 10.2537 41.8975 9.4855C42.208 9.10124 42.3653 8.61563 42.3391 8.12226C42.3129 7.62889 42.105 7.16269 41.7555 6.8135Z"
                    fill="currentColor"
                />
                <path
                    d="M32.9175 21.0895C32.5403 20.7252 32.0351 20.5236 31.5107 20.5282C30.9863 20.5327 30.4847 20.743 30.1138 21.1139L35.8931 26.8931C36.2639 26.5223 36.4743 26.0207 36.4788 25.4963C36.4834 24.9719 36.2818 24.4667 35.9175 24.0895L32.9175 21.0895Z"
                    fill="currentColor"
                />
            </svg>

            <svg
                id="bottom_ticket"
                width="112"
                height="112"
                viewBox="0 0 56 56"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M7.8315 24.4837C6.6915 25.6237 5.7515 26.5637 5.0515 27.3897C4.3195 28.2497 3.7295 29.1197 3.3915 30.1557C2.8695 31.7624 2.8695 33.4931 3.3915 35.0997C3.7255 36.1257 4.3075 36.9877 5.0275 37.8397C5.72253 38.6611 6.64954 39.5897 7.77003 40.7122L7.8135 40.7557C8.16295 41.1049 8.62928 41.3125 9.12264 41.3383C9.61601 41.3642 10.1015 41.2065 10.4855 40.8957C11.2539 40.2755 12.2246 39.9615 13.2107 40.0141C14.1967 40.0666 15.1285 40.4821 15.8266 41.1805C16.5248 41.8788 16.9399 42.8108 16.9921 43.7969C17.0443 44.783 16.73 45.7535 16.1095 46.5217C15.799 46.906 15.6416 47.3916 15.6679 47.885C15.6941 48.3783 15.902 48.8445 16.2515 49.1937C17.3915 50.3337 18.3355 51.2777 19.1675 51.9817C20.0195 52.6997 20.8815 53.2817 21.9075 53.6157C23.5142 54.1377 25.2448 54.1377 26.8515 53.6157C27.8875 53.2777 28.7575 52.6877 29.6175 51.9557C30.4455 51.2557 31.3855 50.3157 32.5235 49.1757L45.3495 36.3497L38.5885 29.5887C38.2135 29.964 38.0029 30.4729 38.0031 31.0034C38.0033 31.534 38.2142 32.0427 38.5895 32.4177L41.1075 34.9357L29.7535 46.2897C28.5415 47.5017 27.7175 48.3237 27.0295 48.9097C26.3575 49.4777 25.9495 49.7017 25.6155 49.8097C24.8123 50.0717 23.9467 50.0717 23.1435 49.8097C22.8135 49.7037 22.4095 49.4817 21.7515 48.9257C21.2188 48.464 20.7031 47.9831 20.2055 47.4837C20.9259 45.989 21.1637 44.3074 20.886 42.6716C20.6084 41.0358 19.8289 39.5268 18.6557 38.3535C17.4825 37.1803 15.9735 36.4009 14.3377 36.1232C12.7018 35.8455 11.0202 36.0833 9.5255 36.8037C9.02546 36.3062 8.54381 35.7905 8.0815 35.2577C7.5255 34.5977 7.3035 34.1937 7.1955 33.8637C6.9345 33.0604 6.9345 32.195 7.1955 31.3917C7.3055 31.0577 7.5295 30.6497 8.0995 29.9797C8.6835 29.2897 9.5055 28.4657 10.7195 27.2537L22.0715 15.8997L24.5895 18.4197C24.7753 18.6054 24.9959 18.7527 25.2386 18.8531C25.4814 18.9536 25.7415 19.0052 26.0042 19.0051C26.2669 19.005 26.527 18.9532 26.7697 18.8526C27.0123 18.752 27.2328 18.6045 27.4185 18.4187L20.6575 11.6577L7.8315 24.4837Z"
                    fill="currentColor"
                />
                <path
                    d="M35.8931 26.8934L30.1139 21.1141C29.7431 21.4849 29.5327 21.9865 29.5282 22.5109C29.5236 23.0353 29.7252 23.5405 30.0895 23.9177L33.0895 26.9177C33.4667 27.282 33.9719 27.4836 34.4963 27.4791C35.0207 27.4745 35.5223 27.2642 35.8931 26.8934Z"
                    fill="currentColor"
                />
            </svg>
        </div>
    );
}

const Home = ({ id, go, modalOn, fetchedUser }) => {


    return (
        <div style={{backgroundColor: "rgba(0,0,0,.6)", height: "100%", width: "100%"}}>
            <div className='bigTicketDiv'>
                <Ticket/>
                <Title className='TicketTitle' level="1" weight="semibold" >
                    -1 билет
                </Title>
            </div>
        </div>
    )
};



export default Home;
